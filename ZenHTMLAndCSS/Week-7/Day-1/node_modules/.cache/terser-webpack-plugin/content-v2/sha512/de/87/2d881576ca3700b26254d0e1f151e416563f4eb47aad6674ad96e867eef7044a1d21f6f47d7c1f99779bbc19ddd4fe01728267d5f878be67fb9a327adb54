{"code":"!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"public\",i(i.s=2)}([function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Availability=void 0;var n=i(3),r=function(){function e(){this.allAvailablePets=[]}return e.prototype.checkIfCurrPetTypeExist=function(e){for(var t=0,i=this.allAvailablePets;t<i.length;t++){var n=i[t];if(n.pet.petType===e.pet.petType)return n.petCount+=e.petCount,!0}return!1},e.prototype.insert=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];if(void 0===n.pet.petCharacterstics)throw new Error(\"PetCharacterstics can not be null\");if(void 0===n.pet.petHistory)throw new Error(\"PetHistory can not be null\");!1===this.checkIfCurrPetTypeExist(n)&&this.allAvailablePets.push(n)}},e.prototype.findAvailablePetsCollection=function(){for(var e=[],t=0,i=this.allAvailablePets;t<i.length;t++){var r=i[t],o=new n.PetWithCount;o.petCount=r.petCount,o.petType=r.pet.petType,e.push(o)}return e},e}();t.Availability=r},function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Enquiry=void 0;var n=function(){};t.Enquiry=n},function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PetShop=void 0;var n=i(0),r=i(4),o=i(5),a=i(6),u=i(7),l=i(1),s=function(){function e(){this.availability=new n.Availability,this.request=new r.Request}return e.prototype.mapRequestDataWithAvailabilityData=function(){for(var e=this.request.enquiryArray,t=this.availability.findAvailablePetsCollection(),i=0,n=e;i<n.length;i++){var r=n[i];if(\"UNASSIGNED\"===r.currentStatus)if(this.canBeFulfilled(r)){r.currentStatus=\"FULFILLED\",r.isAvailable=!0;for(var o=0,a=r.requestedPets;o<a.length;o++)for(var u=a[o],l=(this.findPet(t,u.pet.petType),this.findAvailablePetCount(t,u.pet.petType),0),s=this.availability.allAvailablePets;l<s.length;l++){var c=s[l];c.pet.petType===u.pet.petType&&(c.petCount=c.petCount-u.petCount)}}}},e.prototype.canBeFulfilled=function(e){for(var t=!0,i=this.availability.findAvailablePetsCollection(),n=0,r=e.requestedPets;n<r.length;n++){var o=r[n],a=this.findAvailablePetCount(i,o.pet.petType);if(o.petCount>a){t=!1;break}}return t},e.prototype.findAvailablePetCount=function(e,t){for(var i=0,n=e;i<n.length;i++){var r=n[i];if(r.petType===t)return r.petCount}return 0},e.prototype.findPet=function(e,t){for(var i=0,n=e;i<n.length;i++){var r=n[i];if(r.petType===t)return r}return null},e}();t.PetShop=s;var c=new s;function p(e,t,i,n,r){var a=new o.Pet;a.petType=e;var l=new u.PetCharacterstics;return l.age=t,l.color=i,l.weight=n,a.petCharacterstics=l,a.petHistory=r,a}document.getElementById(\"addPetAvailability\").addEventListener(\"click\",(function(){console.log(\"inside availability function\");var e=document.getElementById(\"petType\").value,t=document.getElementById(\"petCount\").value,i=document.getElementById(\"petChar\").value,n=document.getElementById(\"petHistory\").value;console.log(\"petType is:\"+e);var r=i.split(\",\"),o=r[0],u=+r[1],l=p(e,+r[2],o,u,n),s=new a.PetRequest;s.pet=l,s.petCount=+t;var v=[];console.log(\"Adding pet request:\"+JSON.stringify(s)),v.push(s),c.availability.insert(v),console.log(\"inserted pet data\")})),document.getElementById(\"addPetEnquiry\").addEventListener(\"click\",(function(){console.log(\"inside pet enquiry function\");var e=document.getElementById(\"petType\").value,t=document.getElementById(\"petCount\").value,i=new l.Enquiry,n=new a.PetRequest,r=new o.Pet;r.petType=e,n.pet=r,n.petCount=+t;var u=[];u.push(n),i.requestedPets=u,i.currentStatus=\"UNASSIGNED\",i.isAvailable=!1,c.request.insert(u),console.log(\"enquiry perfomed\")})),document.getElementById(\"mapRequestToEnquiry\").addEventListener(\"click\",(function(){console.log(\"inside  function to create  mapping\"),c.mapRequestDataWithAvailabilityData(),alert(\"Enquiries mapped successfully to Available pets\")})),document.getElementById(\"getFirstFiveEnquiryStatus\").addEventListener(\"click\",(function(){var e=c.request.checkStatusOfFirstFiveEnquiries();console.log(\"First Five enquiry status is:\"+JSON.stringify(e)),alert(\"First Five enquiry status is:\"+JSON.stringify(e))})),document.getElementById(\"getAvailabilityStatus\").addEventListener(\"click\",(function(){var e=c.availability.findAvailablePetsCollection();console.log(\"Available pets collection is:\"+JSON.stringify(e)),alert(\"Available pets collection is:\"+JSON.stringify(e))}))},function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PetWithCount=void 0;var n=function(){};t.PetWithCount=n},function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Request=void 0;var n=i(0),r=i(1),o=function(){function e(){this.availabilityObject=new n.Availability,this.enquiryArray=[]}return e.prototype.insert=function(e){var t=new r.Enquiry;t.currentStatus=\"UNASSIGNED\",t.isAvailable=!1,t.requestedPets=e,this.enquiryArray.push(t)},e.prototype.checkStatusOfFirstFiveEnquiries=function(){for(var e=[],t=0;t<5;t++){var i=this.enquiryArray[t];e.push(i)}return e},e.prototype.findAvailablePetCount=function(e,t){for(var i=0,n=e;i<n.length;i++){var r=n[i];if(r.petType===t)return r.petCount}return 0},e}();t.Request=o},function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Pet=void 0;var n=function(){this.petType,this.petCharacterstics,this.petHistory};t.Pet=n},function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PetRequest=void 0;var n=function(){};t.PetRequest=n},function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PetCharacterstics=void 0;var n=function(){};t.PetCharacterstics=n}]);","extractedComments":[]}